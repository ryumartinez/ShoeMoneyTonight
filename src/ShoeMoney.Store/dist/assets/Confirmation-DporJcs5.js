import{_ as j,a as q}from"./ChevronLeftIcon-DxOCReAT.js";import{_ as D}from"./CheckoutProgress-DTQRSyl6.js";import{d as F,a as P,r as E,b as L,y as M,c as r,e as l,f as t,h as N,g as e,m as d,t as o,F as R,j as $,k as z,l as n}from"./index-BM_g7QBN.js";import{m as _}from"./index-YLLvB746.js";import{s as G}from"./array-CBn_IkKV.js";const H={class:"w-full sm:w-4/5 lg:w-2/3 mx-auto"},I={key:0,class:"flex justify-end gap-2 mb-4"},J={class:"border rounded border-slate-500/50 p-2"},K={key:0,class:"bg-base-100 -mt-5 mb-2 w-24"},Q={key:1,class:"bg-base-100 -mt-5 mb-2 w-32"},U={key:2},W=t("div",{class:"text-lg font-bold"},"Customer",-1),X={class:"px-4"},Y={key:0},Z={key:1},tt=t("div",{class:"text-lg font-bold"},"Shipping Address",-1),et={class:"px-4"},st={key:0},ot={key:1},rt={class:"table table-fixed border border-slate-300"},nt={class:""},dt={class:"text-center w-4"},it={class:"text-center w-16"},ct={class:"text-center w-32"},at={class:"text-center w-20"},lt={class:"text-right w-24"},_t=t("td",{colspan:"5",class:"text-right"},"Order Total:",-1),ut={class:"text-right font-bold border-y border-slate-500"},ft=F({__name:"Confirmation",setup(pt){const u=z(),s=P(),a=E(!1);L(()=>{s.isOrderValid()||u.push("/checkout")});function p(c){return c.price*c.quantity*(1-c.discount)}const O=M(()=>G(s.items,c=>p(c)));async function V(){await s.processOrder()}return(c,h)=>{var m,b,v,g,f,y,k,x;const B=D,T=j,S=q;return n(),r("div",H,[l(B,{stage:4}),a.value?d("",!0):(n(),r("div",I,[t("button",{onClick:h[0]||(h[0]=i=>e(u).back()),class:"whitespace-nowrap btn btn-sm btn-ghost"},[l(T),N(" Back")]),t("button",{onClick:V,class:"whitespace-nowrap btn btn-sm btn-success"},[l(S),N(" Submit Order")])])),t("div",J,[a.value?d("",!0):(n(),r("div",K,"Order Details ")),a.value?(n(),r("div",Q,"Order Confirmation")):d("",!0),e(s).order?(n(),r("div",U,[t("div",null,[W,t("div",X,[t("div",null,o(e(s).order.contact),1),e(s).order.companyName?(n(),r("div",Y,o(e(s).order.companyName),1)):d("",!0),t("div",null,o(e(s).order.email),1),e(s).order.phoneNumber?(n(),r("div",Z,o(e(s).order.phoneNumber),1)):d("",!0)]),t("div",null,[tt,t("div",et,[t("div",null,o((m=e(s).order.shippingAddress)==null?void 0:m.line1),1),(b=e(s).order.shippingAddress)!=null&&b.line2?(n(),r("div",st,o((v=e(s).order.shippingAddress)==null?void 0:v.line2),1)):d("",!0),t("div",null,[t("div",null,o((g=e(s).order.shippingAddress)==null?void 0:g.cityTown)+", "+o((f=e(s).order.shippingAddress)==null?void 0:f.stateProvince)+" "+o((y=e(s).order.shippingAddress)==null?void 0:y.postalCode),1)]),(k=e(s).order.shippingAddress)!=null&&k.country?(n(),r("div",ot,o((x=e(s).order.shippingAddress)==null?void 0:x.country),1)):d("",!0)])])]),t("table",rt,[(n(!0),r(R,null,$(e(s).order.items,i=>{var w,A,C;return n(),r("tr",nt,[t("td",dt,o(i.quantity),1),t("td",null,o((w=i.product)==null?void 0:w.title),1),t("td",it,o((A=i.product)==null?void 0:A.color),1),t("td",ct,o((C=i.product)==null?void 0:C.type),1),t("td",at,o(e(_)(i.price)),1),t("td",lt,o(e(_)(p(i))),1)])}),256)),t("tr",null,[_t,t("td",ut,o(e(_)(O.value)),1)])])])):d("",!0)])])}}});export{ft as default};
