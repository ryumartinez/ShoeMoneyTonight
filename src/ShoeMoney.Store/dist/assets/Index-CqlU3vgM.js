import{_ as q,a as A}from"./ChevronLeftIcon-DxOCReAT.js";import{u as D}from"./catalog-BG7V8Pt6.js";import{m as I}from"./index-YLLvB746.js";import{_ as B,l as r,c as u,f as t,d as L,a as N,r as y,e as $,t as n,w as k,i as P,F as m,j as f,g as _,m as U,h as E,p as F,q as G,x as H,b as Q,y as T,n as M}from"./index-BM_g7QBN.js";const W={},Z={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},J=t("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"},null,-1),K=[J];function O(v,a){return r(),u("svg",Z,K)}const R=B(W,[["render",O]]),j=v=>(G("data-v-1aa56a5f"),v=v(),H(),v),X={class:"modal-box bg-white"},Y={key:0,class:"grid grid-cols-2"},tt=["src","alt"],et={class:"card p-2"},st={class:"font-bold text-lg"},ot={class:"pt-2"},at={class:"flex flex-wrap gap-1 mt-4"},nt={class:"badge badge-ghost"},lt={class:"badge badge-ghost"},ct={class:"badge badge-ghost"},it={class:"badge badge-ghost"},dt={class:"selection mt-4"},rt=j(()=>t("div",null,"Quantity",-1)),ut=["value"],_t={class:"selection"},vt=j(()=>t("div",null,"Size",-1)),gt=["value"],ht={class:"selection"},pt=j(()=>t("div",null,"Width",-1)),mt=["value"],ft={class:"flex justify-end text-lg font-bold mt-4 mr-2"},bt={class:"modal-action"},yt={class:"flex"},$t=L({__name:"ProductModal",setup(v,{expose:a}){const x=N(),c=y(),g=y(null);function w(d){var o;c.value=d,(o=g.value)==null||o.showModal()}const h=["6","6 1/2","7","7 1/2","8","8 1/2","9","9 1/2","10","10 1/2","11","11 1/2","12","13","14","15"],C=[["E","narrow"],["F","standard"],["G","width"],["H","extra-wide"]],s=y({size:"11",width:"E",quantity:1});function l(){var d;s.value.productId=c.value.id,s.value.price=c.value.price,s.value.discount=0,x.add(s.value),(d=g.value)==null||d.close()}return a({showModal:w}),(d,o)=>{var b,S,V;const e=R,p=F;return r(),u("dialog",{ref_key:"theDialog",ref:g,class:"modal"},[t("div",X,[t("button",{class:"absolute right-2 top-2",onClick:o[0]||(o[0]=i=>{var z;return(z=g.value)==null?void 0:z.close()})},[$(e)]),c.value?(r(),u("div",Y,[t("img",{src:c.value.imageUrl??"",alt:(b=c.value)==null?void 0:b.title,class:""},null,8,tt),t("div",et,[t("div",null,[t("h2",st,n((S=c.value.category)==null?void 0:S.name),1),t("p",ot,n(c.value.title),1),t("div",at,[t("div",nt,n((V=c.value.category)==null?void 0:V.name),1),t("div",lt,n(c.value.color),1),t("div",ct,n(c.value.gender),1),t("div",it,n(c.value.usage),1)]),t("div",dt,[rt,k(t("select",{"onUpdate:modelValue":o[1]||(o[1]=i=>s.value.quantity=i)},[(r(!0),u(m,null,f([...Array(100).keys()].slice(1,100),i=>(r(),u("option",{value:i},n(i),9,ut))),256))],512),[[P,s.value.quantity]])]),t("div",_t,[vt,k(t("select",{"onUpdate:modelValue":o[2]||(o[2]=i=>s.value.size=i)},[(r(),u(m,null,f(h,i=>t("option",{value:i},n(i),9,gt)),64))],512),[[P,s.value.size]])]),t("div",ht,[pt,k(t("select",{"onUpdate:modelValue":o[3]||(o[3]=i=>s.value.width=i)},[(r(),u(m,null,f(C,i=>t("option",{value:i[0]},n(`${i[0]} (${i[1]})`),9,mt)),64))],512),[[P,s.value.width]])]),t("div",ft,n(_(I)(c.value.price)),1)])])])):U("",!0),t("div",bt,[t("div",yt,[t("button",{onClick:l,class:"btn btn-success"},[$(p),E(" Add to Cart")])])])])],512)}}}),xt=B($t,[["__scopeId","data-v-1aa56a5f"]]),wt={class:"flex justify-end my-2"},Ct=t("option",{value:"0",selected:""},"All",-1),kt=["value"],Pt={class:"grid gap-2 grid-cols-1 md:grid-cols-3 xl:grid-cols-6"},Mt={class:"card card-compact bg-base-100 shadow-xl"},jt=["src","alt"],St={class:"card-body"},Vt={class:"card-title"},zt={class:"flex flex-wrap gap-1 text-white"},It={class:"badge badge-ghost"},Bt={class:"badge badge-ghost"},Lt={class:"badge badge-ghost"},Ut={class:"badge badge-ghost"},qt={class:"card-actions justify-end"},At=["onClick"],Dt={key:0,class:"flex justify-center p-2"},Nt={class:"join"},Et=["onClick"],Tt=L({__name:"Index",setup(v){const a=D(),x=y(null),c=y();Q(async()=>{await a.loadProducts(),await a.loadCategories()});function g(s,l){let d=s<5?1:s-4,o=d+8;return o>l&&(o=l,d=o-8>0?o-8:1),Array.from({length:o-d+1},(p,b)=>d+b)}const w=T(()=>g(a.currentPage,a.totalPages));async function h(s){var d;const l=((d=x.value)==null?void 0:d.value)??"0";l==="0"?await a.loadProducts(s):await a.loadProductsByCategory(l,s)}function C(s){var l;(l=c.value)==null||l.showModal(s)}return(s,l)=>{const d=q,o=A;return r(),u("div",null,[$(xt,{ref_key:"productModal",ref:c},null,512),t("div",wt,[t("select",{class:"select select-xs select-primary mr-1",ref_key:"categorySelect",ref:x,onChange:l[0]||(l[0]=e=>h(1))},[Ct,(r(!0),u(m,null,f(_(a).categories,e=>(r(),u("option",{value:e.id},n(e.name),9,kt))),256))],544)]),t("div",Pt,[(r(!0),u(m,null,f(_(a).products,e=>{var p;return r(),u("div",Mt,[t("figure",null,[t("img",{src:e.imageUrl,alt:e.title},null,8,jt)]),t("div",St,[t("h2",Vt,n(e.title),1),t("div",zt,[t("div",It,n((p=e.category)==null?void 0:p.name),1),t("div",Bt,n(e.color),1),t("div",Lt,n(e.gender),1),t("div",Ut,n(e.usage),1)]),t("div",qt,[t("button",{class:"btn btn-success",onClick:b=>C(e)},n(_(I)(e.price)),9,At)])])])}),256))]),_(a).products?(r(),u("div",Dt,[t("div",Nt,[t("button",{class:M(["join-item btn btn-sm",{"btn-disabled":_(a).currentPage===1}]),onClick:l[1]||(l[1]=e=>h(_(a).currentPage-1))},[$(d)],2),(r(!0),u(m,null,f(w.value,e=>(r(),u("button",{class:M(["join-item btn btn-sm",{"font-bold":_(a).currentPage===e}]),onClick:p=>h(e)},n(e),11,Et))),256)),t("button",{class:M(["join-item btn btn-sm",{"btn-disabled":_(a).currentPage===_(a).totalPages}]),onClick:l[2]||(l[2]=e=>h(_(a).currentPage+1))},[$(o)],2)])])):U("",!0)])}}});export{Tt as default};
